!function($){$.fn.stylightPinterest=function(t){var n=this,i=$.extend({margin:14,width:240,numColumn:4,elemClass:".elem"},t),e=0,s={checkColumns:function(t){var e=i.numColumn;i.numColumn=Math.floor(n.width()/i.width),t&&e!==i.numColumn&&o()},getAvailablePosition:function(){var t=$(".touse"),n=new Array;return t.each(function(){n.push(new Array($(this).position().left,$(this).position().top+$(this).height(),$(this).data("num")))}),n.sort(function(t,n){return t[1]-n[1]}),n[0]},setGridHeight:function(){var t=$(i.elemClass+".touse"),e=new Array;t.each(function(){e.push($(this).position().top+$(this).height())}),e.sort(function(t,n){return n-t}),n.height(e[0]+i.margin)}},o=function(){s.checkColumns(),$(i.elemClass).each(function(){if(e<i.numColumn)$(this).css({left:i.width*e,top:0}).addClass("touse");else{var t=s.getAvailablePosition();$(this).css({left:t[0],top:t[1]+i.margin}).addClass("touse"),$(i.elemClass+'[data-num="'+t[2]+'"]').removeClass("touse")}e++}),s.setGridHeight(),e=0};$(window).on("resize",function(){s.checkColumns(!0)}),o()}}(jQuery),$(".grid").stylightPinterest();